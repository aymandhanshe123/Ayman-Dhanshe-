{% comment %}
  Custom Banner Section
  - Enhanced background image layout
  - Slight left shift of content box on desktop
  - Improved readability with overlay
{% endcomment %}

<section id="gift-banner-{{ section.id }}" class="cg-banner">
  <style>
    #gift-banner-{{ section.id }} {
      --cg-max-width: 1200px;
      --cg-text-color: {{ section.settings.text_color }};
      --cg-bg: {% if section.settings.bg_image != blank %}url({{ section.settings.bg_image | img_url: '2000x' }}){% else %}linear-gradient(180deg,#fafafa,#f2f2f2){% endif %};
      --cg-overlay: rgba(255,255,255,0.85);
      --cg-btn-bg: {{ section.settings.button_bg }};
      --cg-btn-color: {{ section.settings.button_color }};
      --cg-btn-bg-hover: {{ section.settings.button_bg_hover }};
      --cg-btn-color-hover: {{ section.settings.button_color_hover }};

      padding: clamp(40px, 7vw, 80px) 16px;
      background-image: linear-gradient(rgba(255, 255, 255, 0.8), rgba(255, 255, 255, 0.8)), var(--cg-bg);
      background-size: cover;
      background-position: center center;
      background-repeat: no-repeat;
      position: relative;
      overflow: hidden;
    }

    #gift-banner-{{ section.id }} .cg-banner__inner {
      max-width: var(--cg-max-width);
      margin: 0 auto;
      display: grid;
      grid-template-columns: 1fr;
      gap: 24px;
    }

    #gift-banner-{{ section.id }} .cg-banner__card {
      background: var(--cg-overlay);
      backdrop-filter: blur(4px);
      border-radius: 18px;
      padding: clamp(20px, 4vw, 36px);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.06);
    }

    #gift-banner-{{ section.id }} .cg-banner__eyebrow {
      letter-spacing: 0.08em;
      text-transform: uppercase;
      font-size: 0.85rem;
      opacity: 0.7;
      margin-bottom: 0.25rem;
      color: var(--cg-text-color);
    }

    #gift-banner-{{ section.id }} .cg-banner__title {
      font-size: clamp(28px, 5vw, 48px);
      line-height: 1.1;
      margin: 0.25rem 0 0.75rem;
      color: var(--cg-text-color);
      font-weight: 700;
    }

    #gift-banner-{{ section.id }} .cg-banner__subtitle {
      font-size: clamp(14px, 2vw, 18px);
      line-height: 1.6;
      max-width: 62ch;
      color: var(--cg-text-color);
      opacity: 0.9;
      margin-bottom: 20px;
    }

    #gift-banner-{{ section.id }} .cg-btn {
      display: inline-flex;
      align-items: center;
      gap: 0.6rem;
      background: var(--cg-btn-bg);
      color: var(--cg-btn-color);
      padding: 0.85rem 1.2rem 0.85rem 1.1rem;
      border-radius: 999px;
      border: 2px solid transparent;
      font-weight: 600;
      text-decoration: none;
      position: relative;
      transition: transform 0.15s ease, background 0.2s ease, color 0.2s ease, box-shadow 0.2s ease;
      will-change: transform;
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.08);
    }

    #gift-banner-{{ section.id }} .cg-btn:after {
      content: "âžœ";
      display: inline-block;
      transform: translateX(-6px);
      opacity: 0;
      transition: transform 0.2s ease, opacity 0.2s ease;
    }

    #gift-banner-{{ section.id }} .cg-btn:hover {
      transform: translateY(-1px);
      background: var(--cg-btn-bg-hover);
      color: var(--cg-btn-color-hover);
      box-shadow: 0 10px 24px rgba(0, 0, 0, 0.12);
    }

    #gift-banner-{{ section.id }} .cg-btn:hover:after {
      transform: translateX(0);
      opacity: 1;
    }

    @media (min-width: 900px) {
      #gift-banner-{{ section.id }} .cg-banner__inner {
        grid-template-columns: 1fr 1fr;
        align-items: center;
      }

      #gift-banner-{{ section.id }} .cg-banner__card {
        margin-left: 40px; /* Shift content box left */
      }

      #gift-banner-{{ section.id }} .cg-banner__art {
        justify-self: end;
      }

      #gift-banner-{{ section.id }} .cg-banner__art img {
        width: min(520px, 40vw);
        height: auto;
        border-radius: 20px;
        box-shadow: 0 8px 28px rgba(0, 0, 0, 0.1);
      }
    }
  </style>

  <div class="cg-banner__inner">
    <div class="cg-banner__card">
      {% if section.settings.eyebrow != blank %}
        <div class="cg-banner__eyebrow">{{ section.settings.eyebrow }}</div>
      {% endif %}
      {% if section.settings.title != blank %}
        <h2 class="cg-banner__title">{{ section.settings.title }}</h2>
      {% endif %}
      {% if section.settings.subtitle != blank %}
        <p class="cg-banner__subtitle">{{ section.settings.subtitle }}</p>
      {% endif %}
      {% if section.settings.btn_label != blank and section.settings.btn_link != blank %}
        <a class="cg-btn" href="{{ section.settings.btn_link }}">
          {{ section.settings.btn_label }}
        </a>
      {% endif %}
    </div>

    {% if section.settings.accent_image != blank %}
      <div class="cg-banner__art">
        <img src="{{ section.settings.accent_image | img_url: '900x' }}" alt="">
      </div>
    {% endif %}
  </div>
</section>

{% schema %}
{
  "name": "Custom Banner",
  "settings": [
    { "type": "text", "id": "eyebrow", "label": "Eyebrow (small text)", "default": "The Gift Guide" },
    { "type": "text", "id": "title", "label": "Title", "default": "Find the ideal gift for your loved ones." },
    { "type": "textarea", "id": "subtitle", "label": "Subtitle", "default": "Discover joy: Your ultimate holiday gift destination." },
    { "type": "text", "id": "btn_label", "label": "Button label", "default": "Shop Now" },
    { "type": "url", "id": "btn_link", "label": "Button link" },
    { "type": "image_picker", "id": "bg_image", "label": "Background image (full section)" },
    { "type": "image_picker", "id": "accent_image", "label": "Optional right-side image" },
    { "type": "color", "id": "text_color", "label": "Text color", "default": "#111111" },
    { "type": "color", "id": "button_bg", "label": "Button background", "default": "#111111" },
    { "type": "color", "id": "button_color", "label": "Button text color", "default": "#ffffff" },
    { "type": "color", "id": "button_bg_hover", "label": "Button hover background", "default": "#2b2b2b" },
    { "type": "color", "id": "button_color_hover", "label": "Button hover text", "default": "#ffffff" }
  ],
  "presets": [{ "name": "Custom Banner" }]
}
{% endschema %}
